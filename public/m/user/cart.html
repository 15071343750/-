<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link type="image/x-icon" rel="shortcut icon" href="../images/favicon.ico" />
    <title>购物车</title>
    <link rel="stylesheet" href="../assets/mui/css/mui.css">
    <link rel="stylesheet" href="../assets/fa/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/user/cart.css">
</head>
<body>
    <div class="lt_container">   
        <header class="lt_topBar">
            <a class="btn-left" href="javascript:history.back();"><span class="mui-icon mui-icon-back"></span></a>
            <h3>购物车</h3>
        </header>

        <div class="lt_content">
            <div class="lt_wrapper">
                <div class="mui-scroll-wrapper">
                    <div class="mui-scroll">
                        <ul class="mui-table-view">
                            <!--  -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="cart_order">订单总额：¥<span id="cartAmount">0.00</span> <a href="javascript:;">生成订单</a></div>

        <footer class="lt_tabBar">
            <ul class="mui-clearfix">
                <li><a href="../index.html"><span class="fa fa-home"></span><p>首页</p></a></li>
                <li><a href="../category.html"><span class="fa fa-bars"></span><p>分类</p></a></li>
                <li class="now"><a href="cart.html"><span class="fa fa-shopping-cart"></span><p>购物车</p></a></li>
                <li><a href="index.html"><span class="fa fa-user"></span><p>会员中心</p></a></li>
            </ul>
        </footer>
    </div>
    <!-- 页面渲染 -->
    <script type="text/template" id="cartInfo">
        <% if (data && data.length) { %>
            <% for (var i = 0; i < data.length; i++) { %>
            <li class="mui-table-view-cell">
                <div class="mui-slider-right mui-disabled">
                    <a class="mui-btn mui-btn-blue mui-icon mui-icon-compose" data-id="<%=data[i].id%>" data-size="<%=data[i].size%>" data-num="<%=data[i].num%>" data-productSize="<%=data[i].productSize%>" data-productNum="<%=data[i].productNum%>"></a>
                    <a class="mui-btn mui-btn-red mui-icon mui-icon-trash" data-id="<%=data[i].id%>"></a>
                </div>
                <a class="mui-slider-handle">
                    <div class="cartInfo">
                        <div class="lt_proImg">
                            <img src="<%=data[i].pic[0].picAddr%>" alt="">
                        </div>
                        <div class="lt_proInfo">
                            <p class="desc mui-ellipsis-2"><%=data[i].proName%></p>
                            <p>
                                <span class="price">&yen;<%=data[i].price%></span>&nbsp;&nbsp;
                                <span class="oldPrice">&yen;<%=data[i].oldPrice%></span>
                                <span class="num"><%=data[i].num%>双</span>
                            </p>
                            <p><span class="size">鞋码：<%=data[i].size%></span></p>
                        </div>
                        <input type="checkbox" data-id="<%=data[i].id%>" data-num="<%=data[i].num%>" data-price="<%=data[i].price%>" name="" id="">
                    </div>
                </a>
            </li>
            <% } %>
        <% } else { %>
            <li class="mui-table-view-cell">
                <div class="mui-table-cell">
                    <a class="mui-btn mui-btn-link" href="../search.html">购物车空的去添加...</a>
                </div>
            </li>
        <% } %>
    </script>

    <script type="text/template" id="edit">
        <!-- id: "4", size: "38", num: "1", productsize: "35-45", productnum: "66" -->
        <div class="lt_edit">
            <% 
                var sizeArr = productsize.split("-");
                var smallSize = sizeArr[0];
                var bigSize = sizeArr[1];
            %>
            <strong>尺码：</strong>
            <% for (var i = smallSize; i < bigSize; i++) { %>
                <span class='<%= i == size ? "now" : ""%>'><%=i%></span>
            <% } %>
            <br><strong>数量</strong>
            <div class="mui-numbox" data-numbox-min='1' data-numbox-max='<%=productnum%>'>
                <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
                <input class="mui-numbox-input" type="number" value="<%=num%>" />
                <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
            </div>
        </div>
    </script>

    <script src="../assets/mui/js/mui.min.js"></script>
    <script src="../assets/zepto/zepto.min.js"></script>
    <script src="../assets/artTemplate/template-native.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/user/cart.js"></script>
</body>
</html>